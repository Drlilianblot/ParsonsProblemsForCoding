<!doctype html>
<html>

<head>
    <title>Variable Swap</title>
    <link rel="stylesheet" href="https://js-parsons.github.io/js/js-parsons/parsons.css" />
    <link rel="stylesheet" href="https://js-parsons.github.io/js/js-parsons/lib/prettify.css" />
    <meta charset="utf8" />
    <link rel="stylesheet" href="https://127.0.0.1:50153/stylesheet?id=moyCosb3pjeLDKQ0">
</head>

<body>
    <h2>Variable Swap</h2>
    <p>Construct a program that swaps the values of variables <code>x</code> and <code>y</code> using the
        helper variable <code>tmp</code>. You can change the names of the variables (<span
            class="jsparson-toggle"></span>)
        by clicking them.</p>
    <div id="sortableTrash" class="sortable-code">
        <p>Trash</p>
    </div>
    <div id="sortable" class="sortable-code">
        <p>Solution</p>
    </div>
    <div style="clear:both;"></div>
    <p>
        <a href="#" id="newInstanceLink">New instance</a>
        <a href="#" id="feedbackLink">Get feedback</a>
    </p>
    <div id="unittest"></div>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/jquery.min.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/jquery-ui.min.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/underscore-min.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/lis.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/parsons.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/skulpt.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/skulpt-stdlib.js"></script>
    <script>
        var initial = "$$toggle::x::y::tmp$$ = " +
            "$$toggle::x::y::tmp$$\n" +
            "$$toggle::x::y::tmp$$ = " +
            "$$toggle::x::y::tmp$$\n" +
            "$$toggle::x::y::tmp$$ = " +
            "$$toggle::x::y::tmp$$\n";
        $(document).ready(function () {
            var parson = new ParsonsWidget({
                'sortableId': 'sortable',
                'trashId': 'sortableTrash',
                'vartests': [{ initcode: "x = 0\ny=2", code: "", message: "Testing with initial variable values x = 0 and y = 2", variables: { x: 2 } },
                { initcode: "x = 3\ny=4\n", code: "", message: "Testing with initial variable values x = 3 and y = 4", variables: { x: 4, y: 3 } }],
                lang: "en"
            });
            parson.init(initial);
            parson.shuffleLines();
            $("#newInstanceLink").click(function (event) {
                event.preventDefault();
                parson.shuffleLines();
            });
            $("#feedbackLink").click(function (event) {
                event.preventDefault();
                var fb = parson.getFeedback();
                $("#unittest").html("<h2>Feedback from testing your program:</h2>" + fb.feedback);
                if (fb.success) { alert("Good, you solved the assignment!"); }
            });
        });
    </script>

    <h2>Variable Swap again</h2>
    <p>Construct a program that swaps the values of variables <code>x</code> and <code>y</code> using the
        helper variable <code>tmp</code>. You can change the names of the variables (<span
            class="jsparson-toggle"></span>)
        by clicking them.</p>
    <div id="anotherone-sortableTrash" class="sortable-code">
        <p>Trash</p>
    </div>
    <div id="anotherone-sortable" class="sortable-code">
        <p>Solution</p>
    </div>
    <div style="clear:both;"></div>
    <p>
        <a href="#" id="anotherone-newInstanceLink">New instance</a>
        <a href="#" id="anotherone-feedbackLink">Get feedback</a>
    </p>
    <div id="anotherone-unittest"></div>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/jquery.min.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/jquery-ui.min.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/underscore-min.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/lis.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/parsons.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/skulpt.js"></script>
    <script src="https://js-parsons.github.io/js/js-parsons/lib/skulpt-stdlib.js"></script>
    <script>
        var initial = "$$toggle::x::y::tmp$$ = " +
            "$$toggle::x::y::tmp$$\n" +
            "$$toggle::x::y::tmp$$ = " +
            "$$toggle::x::y::tmp$$\n" +
            "$$toggle::x::y::tmp$$ = " +
            "$$toggle::x::y::tmp$$\n";
        $(document).ready(function () {
            var parson = new ParsonsWidget({
                'sortableId': 'anotherone-sortable',
                'trashId': 'anotherone-sortableTrash',
                'vartests': [{ initcode: "x = '0'\ny='2'", code: "", message: "Testing with initial variable values x = '0' and y = '2'", variables: { x: "2" } },
                { initcode: "x = '3'\ny='4'\n", code: "", message: "Testing with initial variable values x = '3' and y = '4'", variables: { x: "4", y: "3" } }],
                lang: "en"
            });
            parson.init(initial);
            parson.shuffleLines();
            $("#anotherone-newInstanceLink").click(function (event) {
                event.preventDefault();
                parson.shuffleLines();
            });
            $("#anotherone-feedbackLink").click(function (event) {
                event.preventDefault();
                var fb = parson.getFeedback();
                $("#anotherone-unittest").html("<h2>Feedback from testing your program:</h2>" + fb.feedback);
                if (fb.success) { alert("Good, you solved the assignment!"); }
            });
        });
    </script>

    <p>If you're not 100% convinced yet, here's another example with Pseudocode, toggleable values, and the turtle
        graphics grader.</p>
    <div class="turtle-example parsons-problem">
        <h2>Example of js-parsons turtle graphics assignment</h2>
        <p>Construct a program by drag&amp;dropping and reordering lines from the top to the bottom. The constructed
            program should draw a triangle like shown below. Click &nbsp;<span class="jsparson-toggle"></span>&nbsp; to
            select the correct value for that position.</p>
        <div class="container">
            <div class="row">
                <div id="turtle-example-source" class="sortable-code jsparsons-source col-md-7"></div>
                <div class="model turtle col-md-5">
                    <h3>Model Drawing</h3>
                    <canvas id="modelCanvas" width="400" height="400"></canvas>
                </div>
            </div>
            <div class="row">
                <div id="turtle-example-target" class="sortable-code jsparsons-target col-md-7"></div>
                <div class="model turtle col-md-5">
                    <h3>Your Code Drawing</h3>
                    <canvas id="studentCanvas" width="400" height="400"></canvas>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <button class="btn btn-info btn-sm btn-block reset">Reset</button>
                </div>
                <div class="col-md-6">
                    <button class="btn btn-info btn-sm btn-block feedback">​Feedback​</button>
                </div>
            </div>

        </div>
    </div>
    <script>
        $(document).ready(function () {
            var initial = 'REPEAT $$toggle::2::3::4$$ TIMES\nforward(100)\nleft(120)\nENDREPEAT';
            var parson;
            Sk.canvas = "studentCanvas";
            parson = new ParsonsWidget({
                'sortableId': 'turtle-example-target',
                'trashId': 'turtle-example-source',
                'max_wrong_lines': 1,
                turtleModelCode: "modelTurtle.forward(100)\n" +
                    "modelTurtle.left(120)\nmodelTurtle.forward(100)\nmodelTurtle.left(120)\nmodelTurtle.forward(100)\n" +
                    "modelTurtle.left(120)",
                'grader': ParsonsWidget._graders.TurtleGrader,
                'executable_code': "for i in range(0,$$toggle$$):\n" +
                    "myTurtle.forward(100)\n" +
                    "myTurtle.left(120)\n" +
                    "pass",
                'programmingLang': "pseudo"
            });
            parson.init(initial);
            parson.shuffleLines();
            $(".turtle-example .reset").click(function (event) {
                event.preventDefault();
                parson.shuffleLines();
            });
            $(".turtle-example .feedback").click(function (event) {
                event.preventDefault();
                var fb = parson.getFeedback();
                if (fb.success) {
                    alert("Great job, you solved the exercise!");
                } else {
                    alert("Sorry, your solution does not match the model image");
                }
            });
        });
    </script>


</body>

</html>